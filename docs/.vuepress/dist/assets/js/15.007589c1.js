(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{392:function(e,a,t){"use strict";t.r(a);var r=t(11),s=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"openldap-lightweight-directory-access"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openldap-lightweight-directory-access"}},[e._v("#")]),e._v(" OpenLDAP Lightweight Directory Access "),t("Badge",{attrs:{text:"In development",type:"warning"}})],1),e._v(" "),t("TagLinks"),e._v(" "),t("p",[e._v("OpenLDAP is a free, open-source implementation of the Lightweight Directory Access Protocol developed by the OpenLDAP Project. It is released under its own BSD-style license called the OpenLDAP Public License. LDAP is a platform-independent protocol.")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.openldap.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenLDAP website"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.com/openldap/openldap",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Setup and configuration has been tested on the following operating systems:")]),e._v(" "),t("ul",[t("li",[e._v("Ubuntu 20.04")]),e._v(" "),t("li")]),e._v(" "),t("p",[e._v("The OpenLDAP Software 2.4 Administrator's Guide can be read "),t("a",{attrs:{href:"https://www.openldap.org/doc/admin24/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),t("p",[e._v("Berkeley DB version 6.0.20 and later uses a software license that is incompatible with LDAP technology and should not be used with OpenLDAP.")])]),e._v(" "),t("h2",{attrs:{id:"configuration-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-files"}},[e._v("#")]),e._v(" Configuration files")]),e._v(" "),t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("libldap-2.4-2")])]),e._v(" "),t("li",[t("code",[e._v("slapd")])]),e._v(" "),t("li",[t("code",[e._v("ldap-utils")])])]),e._v(" "),t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation "),t("Badge",{attrs:{text:"Rev 1",type:"default"}})],1),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("INFO")]),e._v(" "),t("p",[e._v("When creating "),t("a",{attrs:{href:"https://ldapwiki.com/wiki/Best%20Practices%20For%20LDAP%20Naming%20Attributes",target:"_blank",rel:"noopener noreferrer"}},[e._v("naming attributes"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"https://ldapwiki.com/wiki/Password%20Character%20Composition",target:"_blank",rel:"noopener noreferrer"}},[e._v("password composition"),t("OutboundLink")],1),e._v(" in LDAP its recommended to avoid any non alphanumeric and special characters. Follow the links for more detailed information.")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("server@ubuntu:~$ sudo apt-get install libldap-2.4-2 slapd ldap-utils\n")])])]),t("div",{staticClass:"language- extra-class"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[e._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("server@ubuntu:~$ sudo slapcat\ndn: dc=nodomain\nobjectClass: top\nobjectClass: dcObject\nobjectClass: organization\no: nodomain\ndc: nodomain\nstructuralObjectClass: organization\nentryUUID: 0c08d556-aff3-103a-90db-7bd3172db0bb\ncreatorsName: cn=admin,dc=nodomain\ncreateTimestamp: 20201031183133Z\nentryCSN: 20201031183133.803677Z#000000#000#000000\nmodifiersName: cn=admin,dc=nodomain\nmodifyTimestamp: 20201031183133Z\n\ndn: cn=admin,dc=nodomain\nobjectClass: simpleSecurityObject\nobjectClass: organizationalRole\ncn: admin\ndescription: LDAP administrator\nuserPassword:: \nstructuralObjectClass: organizationalRole\nentryUUID: 0c090742-aff3-103a-90dc-7bd3172db0bb\ncreatorsName: cn=admin,dc=nodomain\ncreateTimestamp: 20201031183133Z\nentryCSN: 20201031183133.805001Z#000000#000#000000\nmodifiersName: cn=admin,dc=nodomain\nmodifyTimestamp: 20201031183133Z\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("server@ubuntu:~ sudo dpkg-reconfigure slapd\n")])])]),t("p",[e._v("If you enable this option, no initial configuration or database will be created for you.")]),e._v(" "),t("p",[e._v("Omit OpenLDAP server configuration? no")]),e._v(" "),t("p",[e._v("The DNS domain name is used to construct the base DN of the LDAP directory. For example, 'foo.example.org' will create the directory with 'dc=foo, dc=example, dc=org' as base DN.")]),e._v(" "),t("p",[e._v("DNS domain e.g. = ldap.libellux.com")]),e._v(" "),t("p",[e._v("Please ennter the name of the organization to use in the base DN of your LDAP directory.")]),e._v(" "),t("p",[e._v("ORG name = Libellux Systems")]),e._v(" "),t("p",[e._v("Please enter the password for the admin entry in your LDAP directory.")]),e._v(" "),t("p",[e._v("Please enter the admin password for your LDAP directory again to verify that you have typed it correctly.")]),e._v(" "),t("p",[e._v("Admin password")]),e._v(" "),t("p",[e._v("Do you want the database to be removed when slapd is purged?")]),e._v(" "),t("p",[e._v("database to be purged = no")]),e._v(" "),t("p",[e._v("There are still files in /var/lib/ldap which will probably break the configuration process. If you enable this option, the maintainer scripts will move the old database files out of the way before creating a new database.")]),e._v(" "),t("p",[e._v("move old database = yes")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("div",{staticClass:"highlight-lines"},[t("div",{staticClass:"highlighted"},[e._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("server@ubuntu:~$ sudo slapcat\ndn: dc=ldap,dc=libellux,dc=com\nobjectClass: top\nobjectClass: dcObject\nobjectClass: organization\no: Libellux\ndc: ldap\nstructuralObjectClass: organization\nentryUUID: 367d48c2-aff7-103a-9ed7-c37913345f20\ncreatorsName: cn=admin,dc=ldap,dc=libellux,dc=com\ncreateTimestamp: 20201031190123Z\nentryCSN: 20201031190123.018070Z#000000#000#000000\nmodifiersName: cn=admin,dc=ldap,dc=libellux,dc=com\nmodifyTimestamp: 20201031190123Z\n\ndn: cn=admin,dc=ldap,dc=libellux,dc=com\nobjectClass: simpleSecurityObject\nobjectClass: organizationalRole\ncn: admin\ndescription: LDAP administrator\nuserPassword:: \nstructuralObjectClass: organizationalRole\nentryUUID: 367d80b2-aff7-103a-9ed8-c37913345f20\ncreatorsName: cn=admin,dc=ldap,dc=libellux,dc=com\ncreateTimestamp: 20201031190123Z\nentryCSN: 20201031190123.019553Z#000000#000#000000\nmodifiersName: cn=admin,dc=ldap,dc=libellux,dc=com\nmodifyTimestamp: 20201031190123Z\n")])])]),t("p",[e._v("check status")]),e._v(" "),t("p",[e._v("sudo systemctl status slapd")]),e._v(" "),t("p",[e._v("sudo ufw allow ldap port 389 external access")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("div",{staticClass:"highlighted"},[e._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("server@ubuntu:~$ ldapwhoami -H ldap:// -x\nanonymous\n")])])]),t("p",[e._v("View root DN.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('server@ubuntu:~$ sudo ldapsearch -H ldapi:/// -Y EXTERNAL -b "cn=config" -LLL -Q | grep olcRootDN:\n')])])]),t("p",[e._v("Add base dn for Users and Groups")]),e._v(" "),t("p",[e._v("basedn.ldif")]),e._v(" "),t("h2",{attrs:{id:"firewall-settings"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#firewall-settings"}},[e._v("#")]),e._v(" Firewall settings")]),e._v(" "),t("p",[e._v("The firewall being used is UFW (Uncomplicated Firewall). It is set by default to deny incoming traffic, allow outgoing traffic and allow port 22 (OpenSSH). Read more about UFW "),t("a",{attrs:{href:"https://help.ubuntu.com/community/UFW",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[e._v("UFW Settings")]),e._v(" "),t("div",{staticClass:"language-console extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("server@ubuntu:~$ sudo ufw default deny incoming\nserver@ubuntu:~$ sudo ufw default allow outgoing\nserver@ubuntu:~$ sudo ufw allow 22\nserver@ubuntu:~$ sudo ufw enable\nCommand may disrupt existing ssh connections. Proceed with operation (y|n)? y\nFirewall is active and enabled on system startup\n")])])])]),e._v(" "),t("div",{staticClass:"language-console extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('server@ubuntu:~$ sudo ufw allow ldap comment "LDAP"\n')])])]),t("h2",{attrs:{id:"recommended-reading"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#recommended-reading"}},[e._v("#")]),e._v(" Recommended reading "),t("Badge",{attrs:{text:"affiliate links",type:"warning"}})],1),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://amzn.to/2TGW8Gh",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mastering OpenLDAP: Configuring, Securing and Integrating Directory, Butcher Matt, 2007"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"enterprise-solutions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#enterprise-solutions"}},[e._v("#")]),e._v(" Enterprise solutions "),t("Badge",{attrs:{text:"non-sponsored",type:"default"}})],1),e._v(" "),t("h3",{attrs:{id:"symas-openldap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#symas-openldap"}},[e._v("#")]),e._v(" Symas OpenLDAP")]),e._v(" "),t("p",[e._v('Symas OpenLDAP comes as pre-compiled and fully tested libraries and installs using native OS installation tools. It’s streamlined for easy setup and administration, and supports secure authentication methods, encryption and replication. To give you greater deployment flexibility and to help you maintain "as is" legacy environments, Symas OpenLDAP offers a choice of high-performance transaction-oriented databases, including an "old-school" database based on Oracle Berkeley DB, as well as a high-performance memory-mapped database (Symas Lightning Memory-mapped Database), based on our new open source memory-mapped b-tree technology. Both of these databases allow hot backups and automatically recover after power failures or system crashes.')]),e._v(" "),t("p",[t("a",{attrs:{href:"https://symas.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Symas"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://ko-fi.com/B0B31BJU3",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://www.ko-fi.com/img/githubbutton_sm.svg",alt:"ko-fi"}}),t("OutboundLink")],1)]),e._v(" "),t("social-share")],1)}),[],!1,null,null,null);a.default=s.exports}}]);