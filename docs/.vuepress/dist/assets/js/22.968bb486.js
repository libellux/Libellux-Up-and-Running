(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{400:function(t,e,s){"use strict";s.r(e);var a=s(11),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"two-factor-authentication-w-freeradius-and-yubikey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#two-factor-authentication-w-freeradius-and-yubikey"}},[t._v("#")]),t._v(" Two-factor authentication w/ FreeRADIUS and YubiKey "),s("Badge",{attrs:{text:"In development",type:"warning"}})],1),t._v(" "),s("TagLinks"),t._v(" "),s("p",[t._v("The world's leading RADIUS server. The project includes a GPL AAA server, BSD licensed client and PAM and Apache modules. Full support is available from "),s("a",{attrs:{href:"https://networkradius.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NetworkRADIUS"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://freeradius.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("FreeRADIUS website"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/FreeRADIUS",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://www.pntrs.com/t/TUJGR0dNRkJHRk1NR0ZCRk5GSkxK",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yubico website"),s("OutboundLink")],1),t._v(" "),s("Badge",{attrs:{text:"affiliate links",type:"warning"}})],1),t._v(" "),s("p",[t._v("Setup and configuration has been tested on the following operating systems:")]),t._v(" "),s("ul",[s("li",[t._v("Ubuntu- 18.04, 20.04")]),t._v(" "),s("li",[t._v("FreeRADIUS- 3.0.16, 3.0.20")])]),t._v(" "),s("h2",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),s("p",[t._v("In this tutorial we use the "),s("a",{attrs:{href:"https://www.pntrs.com/t/TUJGR0dNRkJHRk1NR0ZCRk5GSkxK",target:"_blank",rel:"noopener noreferrer"}},[t._v("YubiKey 5 NFC from Yubico"),s("OutboundLink")],1),t._v(". The reason we use it, besides the reasonable pricing, is that its not only compatible with FreeRADIUS but supports plenty services e.g. KeePassXC, GitHub, GitLab, Cloudflare, AWS, CentOS, Ubuntu etc.")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.pntrs.com/t/TUJGR0dNRkJHRk1NR0ZCRk5GSkxK",target:"_blank",rel:"noopener noreferrer"}},[t._v("YubiKey 5 NFC"),s("OutboundLink")],1),t._v(" "),s("Badge",{attrs:{text:"affiliate links",type:"warning"}})],1),t._v(" "),s("li",[s("code",[t._v("build-essential")])]),t._v(" "),s("li",[s("code",[t._v("libpam0g-dev")])]),t._v(" "),s("li",[s("code",[t._v("libykclient3")]),t._v(" ???")]),t._v(" "),s("li",[s("code",[t._v("libykclient-dev")])])]),t._v(" "),s("h2",{attrs:{id:"freeradius-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#freeradius-installation"}},[t._v("#")]),t._v(" FreeRADIUS Installation")]),t._v(" "),s("p",[t._v("The reason we use FreeRADIUS as an account management system in this project is to use the Yubico FreeRADIUS module. We will be using a security key, "),s("a",{attrs:{href:"https://www.pntrs.com/t/TUJGR0dNRkJHRk1NR0ZCRk5GSkxK",target:"_blank",rel:"noopener noreferrer"}},[t._v("YubiKey 5 NFC"),s("OutboundLink")],1),t._v(", from Yubico to enforce two-factor authentication (2FA) via PAM (Pluggable Authentication Module).")]),t._v(" "),s("p",[t._v("libykclient (ykclient.h, libykclient.so) and libpam-dev (security/pam_appl.h, libpam.so) libyubikey. a2x (asciidoc-base) https://developers.yubico.com/yubikey-personalization/Releases/ykpers-1.20.0.tar.gz, libusb-dev")]),t._v(" "),s("p",[t._v("git clone https://github.com/Yubico/yubico-c.git\ncd yubico-c/")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("PASS: selftest\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\nTestsuite summary "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" libyubikey "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.14")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# TOTAL: 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PASS:  1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SKIP:  0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# XFAIL: 0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# FAIL:  0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# XPASS: 0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ERROR: 0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n")])])]),s("h1",{attrs:{id:"all-5-tests-passed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#all-5-tests-passed"}},[t._v("#")]),t._v(" ==================\nAll 5 tests passed")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\nTestsuite summary "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" yubikey-personalization "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.20")]),t._v(".0\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# TOTAL: 7")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PASS:  7")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SKIP:  0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# XFAIL: 0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# FAIL:  0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# XPASS: 0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ERROR: 0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ sudo apt-get install freeradius\n")])])]),s("p",[t._v("To check the current version of FreeRADIUS execute the command below.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ freeradius -v\nradiusd: FreeRADIUS Version 3.0.20, for host x86_64-pc-linux-gnu, built on Jan 25 2020 at 06:11:13\nFreeRADIUS Version 3.0.20\nCopyright (C) 1999-2019 The FreeRADIUS server project and contributors\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE\nYou may redistribute copies of FreeRADIUS under the terms of the\nGNU General Public License\nFor more information about these matters, see the file named COPYRIGHT\n")])])]),s("p",[t._v("To change the name of your running FreeRADIUS server switch to the root user and edit the radiusd.conf file.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('server@ubuntu:~$ sudo -i\nroot@ubuntu:~$ nano /etc/freeradius/3.0/radiusd.conf\n\n```bash{3}\n#\n#  name of the running server.  See also the "-n" command-line option.\nname = freeradius\n')])])]),s("h2",{attrs:{id:"client-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client-configuration"}},[t._v("#")]),t._v(" Client configuration")]),t._v(" "),s("p",[t._v("Go to the FreeRADIUS directory as root.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ sudo -i\nroot@ubuntu:~$ cd /etc/freeradius/3.0/\n")])])]),s("p",[t._v("Read the FreeRADIUS configuration file to make sure that we incluce the clients configuration file for our services.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("root@ubuntu:~$ nano clients.conf\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CLIENTS CONFIGURATION")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  Client configuration is defined in "clients.conf".')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  The 'clients.conf' file contains all of the information from the old")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  'clients' and 'naslist' configuration files.  We recommend that you")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  do NOT use 'client's or 'naslist', although they are still")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  supported.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  Anything listed in 'clients.conf' will take precedence over the")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  information from the old-style configuration files.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$INCLUDE")]),t._v(" clients.conf\n")])])]),s("p",[t._v("The next step is to add the clients (devices or services) that will use this FreeRADIUS server to authenticate its users. We also need to define a secret which preferably should be 16 characters in length and randomized.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("root@ubuntu:~$ nano clients.conf\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  The shared secret use to "encrypt" and "sign" packets between')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  the NAS and FreeRADIUS.  You MUST change this secret from the")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  default, otherwise it's not a secret any more!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  The secret can be any string, up to 8k characters in length.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  Control codes can be entered vi octal encoding,")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#       e.g. "\\101\\102" == "AB"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  Quotation marks can be entered by escaping them,")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#       e.g. "foo\\"bar"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  A note on security:  The security of the RADIUS protocol")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  depends COMPLETELY on this secret!  We recommend using a")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  shared secret that is composed of:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       upper case letters")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       lower case letters")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       numbers")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  And is at LEAST 8 characters long, preferably 16 characters in")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  length.  The secret MUST be random, and should not be words,")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  phrase, or anything else that is recognisable.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  The default secret below is only for testing, and should")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  not be used in any real environment.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\nsecret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SECRET\n")])])]),s("p",[t._v("In this example we will create the client for Greenbone Vulnerability Manager (GVM). Open the clients configuration file and add the GVM server IP address along with a secret.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("INFO")]),t._v(" "),s("p",[t._v("To enable FreeRADIUS for GVM read more here.")])]),t._v(" "),s("p",[t._v("Once we've checked so the clients configuration is included in the radius configuration lets add our first client.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("root@ubuntu:~$ nano clients.conf\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#client example.org {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       ipaddr          = radius.example.org")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#       secret          = testing123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#}")]),t._v("\n\nclient GVM "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ipaddr          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.2\n        secret          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SECRET\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("$ sudo add-apt-repository ppa:yubico/stable\n$ sudo apt-get update\n$ sudo apt-get install libpam-yubico")]),t._v(" "),s("h2",{attrs:{id:"add-users"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-users"}},[t._v("#")]),t._v(" Add users")]),t._v(" "),s("p",[t._v("Now that we are done with the client part, we will start adding users. We do that by editing the users file:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("root@ubuntu:~$ nano users\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Default for SLIP: dynamic IP address, SLIP mode.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\nDEFAULT Hint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SLIP"')]),t._v("\n        Framed-Protocol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SLIP\n\nUser Cleartext-Password :"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PASSWORD"')]),t._v("\n")])])]),s("p",[t._v("Next make sure that your FreeRADIUS configuration file is ok. To do this execute the command below.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("root@ubuntu:~$ freeradius -CX\nConfiguration appears to be OK\n")])])]),s("p",[t._v("Once we made sure the configuration file is ok lets restart the FreeRADIUS server.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("root@ubuntu:~$ exit\nserver@ubuntu:~$ sudo systemctl restart freeradius.service\n")])])]),s("h2",{attrs:{id:"freeradius-authentication-test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#freeradius-authentication-test"}},[t._v("#")]),t._v(" FreeRADIUS authentication test")]),t._v(" "),s("h2",{attrs:{id:"install-yubico-pam-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-yubico-pam-module"}},[t._v("#")]),t._v(" Install Yubico PAM module")]),t._v(" "),s("p",[t._v("First install required dependencies.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ sudo apt-get install build-essential\nserver@ubuntu:~$ sudo apt-get install autoconf libtool\n")])])]),s("p",[t._v("Next download the latest version of the Yubico PAM module.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ wget https://github.com/Yubico/yubico-pam/archive/2.26.tar.gz\nserver@ubuntu:~$ tar -zxvf 2.26.tar.gz\nserver@ubuntu:~$ cd yubico-pam-2.26\nserver@ubuntu:~$ sudo autoreconf --install\n")])])]),s("p",[t._v("sudo ln -s /usr/local/lib/security/pam_yubico.so /lib/x86_64-linux-gnu/security")]),t._v(" "),s("p",[t._v("Now insert your "),s("a",{attrs:{href:"https://www.pntrs.com/t/TUJGR0dNRkJHRk1NR0ZCRk5GSkxK",target:"_blank",rel:"noopener noreferrer"}},[t._v("YubiKey 5 NFC"),s("OutboundLink")],1),t._v(" security key and press the button and the public ID, for the specific YubiKey, will be printed directly to the command-line interface (you might need to hold it for some seconds).")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ envevtljjoootjiljltruyrdklffgadglgvlkfvtretyyg\n")])])]),s("h2",{attrs:{id:"firewall-settings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#firewall-settings"}},[t._v("#")]),t._v(" Firewall settings")]),t._v(" "),s("p",[t._v("The firewall being used is UFW (Uncomplicated Firewall). It is set by default to deny incoming traffic, allow outgoing traffic and allow port 22 (OpenSSH). Read more about UFW "),s("a",{attrs:{href:"https://help.ubuntu.com/community/UFW",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("UFW Settings")]),t._v(" "),s("div",{staticClass:"language-console extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server@ubuntu:~$ sudo ufw default deny incoming\nserver@ubuntu:~$ sudo ufw default allow outgoing\nserver@ubuntu:~$ sudo ufw allow 22\nserver@ubuntu:~$ sudo ufw enable\nCommand may disrupt existing ssh connections. Proceed with operation (y|n)? y\nFirewall is active and enabled on system startup\n")])])])]),t._v(" "),s("h2",{attrs:{id:"recommended-reading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#recommended-reading"}},[t._v("#")]),t._v(" Recommended reading "),s("Badge",{attrs:{text:"affiliate links",type:"warning"}})],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://amzn.to/3aXFTP4",target:"_blank",rel:"noopener noreferrer"}},[t._v("FreeRADIUS Beginner's Guide, van der Walt Dirk, 2011"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developers.yubico.com/yubico-pam/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yubico Developers"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"enterprise-solutions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enterprise-solutions"}},[t._v("#")]),t._v(" Enterprise solutions "),s("Badge",{attrs:{text:"non-sponsored",type:"default"}})],1),t._v(" "),s("h3",{attrs:{id:"networkradius"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#networkradius"}},[t._v("#")]),t._v(" NetworkRADIUS")]),t._v(" "),s("p",[t._v("NetworkRADIUS provide software packages for popular Linux distributions such as RedHat and Ubuntu. Using these packages will mean your systems can be up-to-date with the most recent release of FreeRADIUS, rather than having to wait for your operating system distribution to provide updates, or compiling from source.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://networkradius.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NetworkRADIUS"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://ko-fi.com/B0B31BJU3",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://www.ko-fi.com/img/githubbutton_sm.svg",alt:"ko-fi"}}),s("OutboundLink")],1)]),t._v(" "),s("social-share")],1)}),[],!1,null,null,null);e.default=r.exports}}]);