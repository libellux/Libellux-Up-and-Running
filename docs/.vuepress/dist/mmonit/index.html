<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <meta name="robots" content="noindex, nofollow"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#8c7bce"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@libellux1"><meta name="twitter:title" content="Libellux"><meta name="twitter:description" content="Libellux: Up & Running provides documentation on how-to install open-source software from source. The focus is Zero Trust Network to enhance the security for existing applications or install tools to detect and prevent threats."><meta name="twitter:image" content="https://www.libellux.com/img/icons/4096x4096.png"><meta name="twitter:width" content="4096"><meta name="twitter:height" content="4096"><meta property="og:locale" content="en_US"><meta property="og:type" content="website"><meta property="og:title" content="Libellux"><meta property="og:description" content="Libellux: Up & Running provides documentation on how-to install open-source software from source. The focus is Zero Trust Network to enhance the security for existing applications or install tools to detect and prevent threats."><meta property="og:url" content="https://www.libellux.com"><meta property="og:site_name" content="Libellux"><meta property="og:publisher" content="https://www.facebook.com/libellux1"><meta property="og:author" content="https://www.facebook.com/fredrik.hilmersson.1"><meta property="og:image" content="https://www.libellux.com/img/icons/1200x627.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link rel="icon" href="https://www.libellux.com/img/icons/72x72.png"><meta name="msapplication-TileImage" content="https://www.libellux.com/img/icons/144x144.png"><link rel="apple-touch-icon" sizes="48x48" href="https://www.libellux.com/img/icons/48x48.png"><link rel="apple-touch-icon" sizes="72x72" href="https://www.libellux.com/img/icons/72x72.png"><link rel="apple-touch-icon" sizes="144x144" href="https://www.libellux.com/img/icons/144x144.png"><link rel="apple-touch-icon" sizes="192x192" href="https://www.libellux.com/img/icons/192x192.png"><link rel="apple-touch-icon" sizes="256x256" href="https://www.libellux.com/img/icons/256x256.png"><link rel="apple-touch-icon" sizes="384x384" href="https://www.libellux.com/img/icons/384x384.png"><link rel="apple-touch-icon" sizes="512x512" href="https://www.libellux.com/img/icons/512x512.png"><link rel="apple-touch-icon" sizes="1200x627" href="https://www.libellux.com/img/icons/1200x627.png"><title>M/Monit System Monitoring | Libellux</title><meta name="description" content="Monit is a small popular Open Source utility for managing and monitoring Unix systems. M/Monit builds on Monit's capabilities and provides monitoring and management of all your Monit enabled hosts via a modern, clean and well designed user interface which also works on mobile devices.">
    <link rel="preload" href="/assets/js/runtime~app.a79d15ed.js" as="script"><link rel="preload" href="/assets/css/styles.08897485.css" as="style"><link rel="preload" href="/assets/js/540.b180c109.js" as="script"><link rel="preload" href="/assets/js/app.73392fe8.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.08897485.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/img/icons/72x72.png" alt="Libellux"><span class="site-name can-hide">Libellux</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Libellux: Up &amp; Running"><span class="title">Libellux: Up &amp; Running</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Libellux: Up &amp; Running"><span class="title">Libellux: Up &amp; Running</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Zero Trust Network</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/wireguard/" class="nav-link" aria-label="WireGuard Secure VPN Tunnel"><!--[--><!--]--> WireGuard Secure VPN Tunnel <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/privacyidea/" class="nav-link" aria-label="Two-factor authentication w/ privacyIDEA and YubiKey"><!--[--><!--]--> Two-factor authentication w/ privacyIDEA and YubiKey <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Intrusion Detection and Prevention</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/ossec/" class="nav-link" aria-label="OSSEC Host Intrusion Detection"><!--[--><!--]--> OSSEC Host Intrusion Detection <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/openvas/" class="nav-link" aria-label="Greenbone Vulnerability Manager"><!--[--><!--]--> Greenbone Vulnerability Manager <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/clamav/" class="nav-link" aria-label="ClamAV Antivirus Server"><!--[--><!--]--> ClamAV Antivirus Server <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/psad/" class="nav-link" aria-label="PSAD Intrusion Detection"><!--[--><!--]--> PSAD Intrusion Detection <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Monitoring and Management</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a aria-current="page" href="/mmonit/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="M/Monit System Monitoring"><!--[--><!--]--> M/Monit System Monitoring <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/graylog/" class="nav-link" aria-label="Graylog Centralized Log Management"><!--[--><!--]--> Graylog Centralized Log Management <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/rsyslog/" class="nav-link" aria-label=" Rsyslog Syslog Processing"><!--[--><!--]-->  Rsyslog Syslog Processing <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://libellux.cloudflareaccess.com" rel="noopener noreferrer" target="_blank" aria-label="Portal"><!--[--><!--]--> Portal <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/libellux/Libellux-Up-and-Running-dev" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Libellux: Up &amp; Running"><span class="title">Libellux: Up &amp; Running</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Libellux: Up &amp; Running"><span class="title">Libellux: Up &amp; Running</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Zero Trust Network</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/wireguard/" class="nav-link" aria-label="WireGuard Secure VPN Tunnel"><!--[--><!--]--> WireGuard Secure VPN Tunnel <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/privacyidea/" class="nav-link" aria-label="Two-factor authentication w/ privacyIDEA and YubiKey"><!--[--><!--]--> Two-factor authentication w/ privacyIDEA and YubiKey <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Intrusion Detection and Prevention</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/ossec/" class="nav-link" aria-label="OSSEC Host Intrusion Detection"><!--[--><!--]--> OSSEC Host Intrusion Detection <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/openvas/" class="nav-link" aria-label="Greenbone Vulnerability Manager"><!--[--><!--]--> Greenbone Vulnerability Manager <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/clamav/" class="nav-link" aria-label="ClamAV Antivirus Server"><!--[--><!--]--> ClamAV Antivirus Server <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/psad/" class="nav-link" aria-label="PSAD Intrusion Detection"><!--[--><!--]--> PSAD Intrusion Detection <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Monitoring and Management</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a aria-current="page" href="/mmonit/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="M/Monit System Monitoring"><!--[--><!--]--> M/Monit System Monitoring <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/graylog/" class="nav-link" aria-label="Graylog Centralized Log Management"><!--[--><!--]--> Graylog Centralized Log Management <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/rsyslog/" class="nav-link" aria-label=" Rsyslog Syslog Processing"><!--[--><!--]-->  Rsyslog Syslog Processing <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://libellux.cloudflareaccess.com" rel="noopener noreferrer" target="_blank" aria-label="Portal"><!--[--><!--]--> Portal <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/libellux/Libellux-Up-and-Running-dev" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Libellux: Up and Running</p><ul class=""><li><!--[--><a href="/" class="nav-link sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Zero Trust Network</p><ul class=""><li><!--[--><a href="/wireguard/" class="nav-link sidebar-item" aria-label="WireGuard Secure VPN Tunnel"><!--[--><!--]--> WireGuard Secure VPN Tunnel <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/privacyidea/" class="nav-link sidebar-item" aria-label="Two-factor authentication w/ privacyIDEA and YubiKey"><!--[--><!--]--> Two-factor authentication w/ privacyIDEA and YubiKey <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Intrusion Detection and Prevention</p><ul class=""><li><!--[--><a href="/ossec/" class="nav-link sidebar-item" aria-label="OSSEC Host Intrusion Detection"><!--[--><!--]--> OSSEC Host Intrusion Detection <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/openvas/" class="nav-link sidebar-item" aria-label="Greenbone Vulnerability Manager"><!--[--><!--]--> Greenbone Vulnerability Manager <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/clamav/" class="nav-link sidebar-item" aria-label="ClamAV Antivirus Server"><!--[--><!--]--> ClamAV Antivirus Server <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/psad/" class="nav-link sidebar-item" aria-label="PSAD Intrusion Detection"><!--[--><!--]--> PSAD Intrusion Detection <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Monitoring and Management</p><ul class=""><li><!--[--><a aria-current="page" href="/mmonit/" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="M/Monit System Monitoring"><!--[--><!--]--> M/Monit System Monitoring <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/mmonit/#m-monit" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="M/Monit"><!--[--><!--]--> M/Monit <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#monit" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Monit"><!--[--><!--]--> Monit <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#configuration-files" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Configuration files"><!--[--><!--]--> Configuration files <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#prerequisites" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Prerequisites"><!--[--><!--]--> Prerequisites <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#m-monit-installation" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="M/Monit Installation"><!--[--><!--]--> M/Monit Installation <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/mmonit/#enable-tls" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Enable TLS"><!--[--><!--]--> Enable TLS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#add-m-monit-to-systemd" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Add M/Monit to systemd"><!--[--><!--]--> Add M/Monit to systemd <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#monit-installation" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Monit Installation"><!--[--><!--]--> Monit Installation <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/mmonit/#tls-ssl-settings" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="TLS/SSL settings"><!--[--><!--]--> TLS/SSL settings <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#configuration" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#firewall-settings" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Firewall settings"><!--[--><!--]--> Firewall settings <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#m-monit-behind-nginx-proxy" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="M/Monit behind NGINX Proxy"><!--[--><!--]--> M/Monit behind NGINX Proxy <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#slack-notifications" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Slack notifications"><!--[--><!--]--> Slack notifications <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#upgrading" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Upgrading"><!--[--><!--]--> Upgrading <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#command-line" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Command-line"><!--[--><!--]--> Command-line <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#troubleshooting" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Troubleshooting"><!--[--><!--]--> Troubleshooting <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mmonit/#enterprise-solutions" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Enterprise solutions"><!--[--><!--]--> Enterprise solutions <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/mmonit/#m-monit-enterprise" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="M/Monit Enterprise"><!--[--><!--]--> M/Monit Enterprise <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/graylog/" class="nav-link sidebar-item" aria-label="Graylog Centralized Log Management"><!--[--><!--]--> Graylog Centralized Log Management <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/rsyslog/" class="nav-link sidebar-item" aria-label="Rsyslog Syslog Processing"><!--[--><!--]--> Rsyslog Syslog Processing <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="m-monit-system-monitoring" tabindex="-1"><a class="header-anchor" href="#m-monit-system-monitoring" aria-hidden="true">#</a> M/Monit System Monitoring</h1><p>Monit is a small popular Open Source utility for managing and monitoring Unix systems. M/Monit builds on Monit&#39;s capabilities and provides monitoring and management of all your Monit enabled hosts via a modern, clean and well designed user interface which also works on mobile devices.</p><p><a href="https://mmonit.com/" target="_blank" rel="noopener noreferrer">M/Monit website<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> <a href="https://mmonit.com/monit/" target="_blank" rel="noopener noreferrer">Monit website<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> <a href="https://bitbucket.org/tildeslash/monit/src/master/" target="_blank" rel="noopener noreferrer">Git<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>Setup and configuration have been tested on following operating systems:</p><h3 id="m-monit" tabindex="-1"><a class="header-anchor" href="#m-monit" aria-hidden="true">#</a> M/Monit</h3><ul><li>Ubuntu- 16.04, 18.04, 20.04 (Focal Fossa)</li><li>M/Monit- 3.6.0 -&gt; 3.7.5</li></ul><h3 id="monit" tabindex="-1"><a class="header-anchor" href="#monit" aria-hidden="true">#</a> Monit</h3><ul><li>Ubuntu- 16.04, 18.04, 20.04</li><li>Monit- 5.16.0 -&gt; 5.27.0</li></ul><p><a href="https://ko-fi.com/B0B31BJU3" target="_blank" rel="noopener noreferrer"><img src="https://www.ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi"><span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>M/Monit is a non-free software to montior and manage all Monit enabled hosts. 30 days free trial.</p></div><h2 id="configuration-files" tabindex="-1"><a class="header-anchor" href="#configuration-files" aria-hidden="true">#</a> Configuration files</h2><ul><li><a href="https://github.com/libellux/Libellux-Up-and-Running/blob/master/docs/mmonit/config/server.xml" target="_blank" rel="noopener noreferrer">server.xml<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://github.com/libellux/Libellux-Up-and-Running/blob/master/docs/mmonit/config/monitrc" target="_blank" rel="noopener noreferrer">monitrc<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h2><p>Dependancies when building or upgrading Monit from source.</p><ul><li><code>zlib1g-dev</code></li><li><code>libssl-dev</code></li><li><code>libpam0g-dev</code></li><li><code>ruby-full</code> (optional)</li></ul><h2 id="m-monit-installation" tabindex="-1"><a class="header-anchor" href="#m-monit-installation" aria-hidden="true">#</a> M/Monit Installation</h2><p>For additional information see reference <a href="https://mmonit.com/documentation/mmonit_manual.pdf" target="_blank" rel="noopener noreferrer">M/Monit documentation<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><p>To download the latest version of M/Monit visit the <a href="https://mmonit.com/download/" target="_blank" rel="noopener noreferrer">official website<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>. Continue to extract the file and move it to <code>/usr/local/mmonit/</code>.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ wget https://mmonit.com/dist/mmonit-3.7.5-linux-x64.tar.gz
server@ubuntu:~$ tar -zxvf mmonit-3.7.5-linux-x64.tar.gz
server@ubuntu:~$ rm mmonit-3.7.5-linux-x64.tar.gz
server@ubuntu:~$ sudo mv mmonit-3.7.5/ /usr/local/mmonit/
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Now you can visit M/Monit at <code>http://192.168.0.1:8080</code> if executing the command <code>sudo ./mmonit</code> from <code>/usr/local/mmonit-3.7.5/bin/</code> (Dont forget to check <a href="#firewall-settings">Firewall settings</a>). However, we strongly recommend to run M/Monit with TLS support.</p><h3 id="enable-tls" tabindex="-1"><a class="header-anchor" href="#enable-tls" aria-hidden="true">#</a> Enable TLS</h3><p>To enable M/Monit to run with TLS comment out the port 8080 connector and uncomment the SSL/TLS connector to listen on port 8443. Proceed to update the host section and define the server IP address along with the certificate path.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo nano /usr/local/mmonit/conf/server.xml
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>        <span class="token comment">&lt;!--
        &lt;Connector address=&quot;*&quot; port=&quot;8080&quot; processors=&quot;10&quot; /&gt;
        --&gt;</span>

        <span class="token comment">&lt;!-- Define a SSL/TLS HTTP/1.1 Connector on port 8443 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span> <span class="token attr-name">scheme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https<span class="token punctuation">&quot;</span></span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8443<span class="token punctuation">&quot;</span></span> <span class="token attr-name">processors</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">secure</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token comment">&lt;!--
            Define the default virtual host which name must match the
            Engine defaultHost attribute
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Host</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>localhost<span class="token punctuation">&quot;</span></span> <span class="token attr-name">appBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.<span class="token punctuation">&quot;</span></span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>192.168.0.1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">certificate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conf/mmonit.pem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><div class="highlight-line"> </div></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="add-m-monit-to-systemd" tabindex="-1"><a class="header-anchor" href="#add-m-monit-to-systemd" aria-hidden="true">#</a> Add M/Monit to systemd</h3><p>To simplify the process to start and stop M/Monit add it to the systemd. First create a mmonit.service file, paste the below and save.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo nano /etc/systemd/system/mmonit.service
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
Description <span class="token operator">=</span> Easy, proactive monitoring of Unix systems, network and cloud services
After <span class="token operator">=</span> network.target
<span class="token assign-left variable">Documentation</span><span class="token operator">=</span> https://mmonit.com/documentation/ 

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>simple
<span class="token assign-left variable">KillMode</span><span class="token operator">=</span>process
ExecStart <span class="token operator">=</span> /usr/local/mmonit/bin/mmonit -i
ExecStop <span class="token operator">=</span> /usr/local/mmonit/bin/mmonit stop
PIDFile <span class="token operator">=</span> /usr/local/mmonit/logs/mmonit.pid
Restart <span class="token operator">=</span> on-abnormal

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
WantedBy <span class="token operator">=</span> multi-user.target
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Next reload the systemd daemon, enable our newly configured M/Monit service and then start it.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo systemctl daemon-reload
server@ubuntu:~$ sudo systemctl enable mmonit
server@ubuntu:~$ sudo systemctl start mmonit
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Go to your browser and visit <code>https://192.168.0.1:8443</code>. Login using the default credentials user <code>admin</code> with the default password <code>swordfish</code>. Click the <strong>Admin</strong> tab, select <strong>Users</strong> and edit (default admin accout) or add a new user. Then grant administration privileges to overwrite the default credentials.</p><img class="zoom-custom-imgs" src="/img/mmonit/mmonit_login.png" alt="mmonit login"><h2 id="monit-installation" tabindex="-1"><a class="header-anchor" href="#monit-installation" aria-hidden="true">#</a> Monit Installation</h2><p>First install the PAM development package to enable Pluggable Authentication Modules (PAM) support.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo apt-get install libpam0g-dev
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Next install the latest version of Monit as an agent for M/Monit enter the commands below.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ wget https://bitbucket.org/tildeslash/monit/downloads/monit-5.27.0.tar.gz
client@ubuntu:~$ tar -zxvf monit-5.27.0.tar.gz
client@ubuntu:~$ cd monit-5.27.0/
client@ubuntu:~$ sudo ./configure
client@ubuntu:~$ sudo make &amp;&amp; sudo make install
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="tls-ssl-settings" tabindex="-1"><a class="header-anchor" href="#tls-ssl-settings" aria-hidden="true">#</a> TLS/SSL settings</h3><p>Create a TLS certificate for Monit to enable secure transmission to M/Monit.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo openssl req -new -newkey rsa:2048 -x509 -days 730 -nodes -out /etc/monit/monit.pem -keyout /etc/monit/monit.pem
client@ubuntu:~$ sudo chmod 700 /etc/monit/monit.pem
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration</h2><p>Copy the default Monit configuration file and create an backup.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo cp monitrc /usr/local/etc/
client@ubuntu:~$ cd /usr/local/etc
client@ubuntu:~$ sudo cp monitrc monitrc_bak
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Next edit the Monit configuration file to enable communication with M/Monit over TLS/SSL.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo nano monitrc
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## Set global SSL options (just most common options showed, see manual for</span>
<span class="token comment">## full list).</span>
<span class="token comment">#</span>
<span class="token builtin class-name">set</span> ssl <span class="token punctuation">{</span>
     verify: <span class="token builtin class-name">enable</span>
     selfsigned: allow
<span class="token punctuation">}</span>

<span class="token builtin class-name">set</span> mmonit https://USERNAME:PASSWORD@192.168.0.1:8443/collector
<span class="token comment">#     # with timeout 30 seconds              # Default timeout is 5 seconds</span>
<span class="token comment">#     # and register without credentials     # Don&#39;t register credentials</span>

<span class="token comment">#</span>
<span class="token builtin class-name">set</span> httpd port <span class="token number">2812</span> and
    <span class="token comment">#use address localhost      # only accept connection from localhost (drop if you use M/Monit)</span>
    allow localhost             <span class="token comment"># allow localhost to connect to the server and</span>
    allow <span class="token number">192.168</span>.0.1           <span class="token comment"># allow M/Monit</span>
    allow USERNAME:PASSWORD     <span class="token comment"># require user &#39;admin&#39; with password &#39;monit&#39;</span>
    with ssl <span class="token punctuation">{</span>                  <span class="token comment"># enable SSL/TLS and set path to server certificate</span>
        pemfile: /etc/monit/monit.pem
        version: TLSv12
        ciphers: <span class="token string">&quot;ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384&quot;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="firewall-settings" tabindex="-1"><a class="header-anchor" href="#firewall-settings" aria-hidden="true">#</a> Firewall settings</h2><p>The firewall being used is UFW (Uncomplicated Firewall). It is set by default to deny incoming traffic, allow outgoing traffic and allow port 22 (OpenSSH). Read more about UFW <a href="https://help.ubuntu.com/community/UFW" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><details class="custom-container details"><summary>UFW Settings</summary><div class="language-console ext-console line-numbers-mode"><pre class="language-console"><code>server@ubuntu:~$ sudo ufw default deny incoming
server@ubuntu:~$ sudo ufw default allow outgoing
server@ubuntu:~$ sudo ufw allow 22
server@ubuntu:~$ sudo ufw enable
Command may disrupt existing ssh connections. Proceed with operation (y|n)? y
Firewall is active and enabled on system startup
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></details><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>For non SSL/TLS allow port 8080.</p></div><div class="language-console ext-console line-numbers-mode"><pre class="language-console"><code>server@ubuntu:~$ sudo ufw allow 8443 comment &quot;Monit&quot;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-console ext-console line-numbers-mode"><pre class="language-console"><code>client@ubuntu:~$ sudo ufw allow from 192.168.0.1 to any port 2812 comment &quot;M/Monit&quot;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Start Monit.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo /usr/local/bin/monit start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="m-monit-behind-nginx-proxy" tabindex="-1"><a class="header-anchor" href="#m-monit-behind-nginx-proxy" aria-hidden="true">#</a> M/Monit behind NGINX Proxy</h2><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">proxy_set_header</span>   Host             <span class="token variable">$http_host</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_set_header</span>   X-Real-IP        <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_set_header</span>   REMOTE_HOST      <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_set_header</span>   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_set_header</span>   X-FORWARDED-PROTOCOL <span class="token variable">$scheme</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">rewrite</span> ^/(.*) /<span class="token variable">$1</span> break</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_pass</span> http://127.0.0.1:8080</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_redirect</span> http://192.168.0.1:8080 /</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">proxy_cookie_path</span> / /</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="slack-notifications" tabindex="-1"><a class="header-anchor" href="#slack-notifications" aria-hidden="true">#</a> Slack notifications</h2><p>Download <a href="https://bitbucket.org/tildeslash/monit/downloads/Monit-Icons.zip" target="_blank" rel="noopener noreferrer">M/Monit icons<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> for the Slack App integration.</p><p>Start with installing Ruby to send our notifications.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get install ruby-full
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Proceed to go to Slack and the section for managing apps and select <em>Build</em>. Give your new App an name e.g. M/Monit and connect it to an workspace. Then you&#39;ll be presented multiple options select, <em>Incoming Webhooks</em> under the <em>Add features and functionality section</em>. Activate Incoming Webhooks. Click the button <em>Add New Webhook to Workspace</em>.</p><img class="zoom-custom-imgs" src="/img/mmonit/slack_incoming_webhook.png" alt="mmonit slack incoming webhook"><p>Next you will be able to select to which channel you want the notifications to be sent to (works with private channels as well). Select your preferred channel and you will get redirected back and presented with the applications webhook URL. Copy the webhook URL for later.</p><p>Head back to M/Monit and in the menu under <em>Admin</em> click the <em>Alerts</em> option (<code>https://192.168.0.1.8443/admin/alerts/</code>). Create a new alert with the following conditions: <em>Any Host</em>, <em>Any Service</em>, <em>Any State</em>, <em>Any Event</em> and then select <em>Execute program</em> as the action. In the input field besides the <em>Execute program</em> paste the Ruby code with correct webhook URL and specified channel.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Make sure to add line breaks as in the code segment below</p></div><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>ruby <span class="token operator">-</span>e &quot;
    <span class="token keyword">require</span> <span class="token string">&#39;net/https&#39;</span>
    <span class="token keyword">require</span> <span class="token string">&#39;json&#39;</span>
    uri <span class="token operator">=</span> <span class="token constant">URI</span><span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">&#39;https://hooks.slack.com/services/XXXXXXXXX/YYYYYYYYY/ZZZZZZZZZZZZZZZZZZZZZZZZ&#39;</span><span class="token punctuation">)</span>
    http <span class="token operator">=</span> <span class="token constant">Net</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HTTP</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span>host<span class="token punctuation">,</span> uri<span class="token punctuation">.</span>port<span class="token punctuation">)</span>
    http<span class="token punctuation">.</span>use_ssl <span class="token operator">=</span> <span class="token boolean">true</span>
    request <span class="token operator">=</span> <span class="token constant">Net</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HTTP</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Post</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span>request_uri<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;Content-Type&#39;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    request<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">{</span> \&quot;channel\&quot;  <span class="token operator">=</span><span class="token operator">&gt;</span> \&quot;<span class="token comment">#general\&quot;, \&quot;username\&quot; =&gt; \&quot;mmonit\&quot;, \&quot;text\&quot; =&gt; \&quot;[#{ENV[&#39;MONIT_HOST&#39;]}] #{ENV[&#39;MONIT_SERVICE&#39;]} - #{ENV[&#39;MONIT_DESCRIPTION&#39;]}\&quot; }.to_json</span>
    response <span class="token operator">=</span> http<span class="token punctuation">.</span>request<span class="token punctuation">(</span>request<span class="token punctuation">)</span>
    puts response<span class="token punctuation">.</span>body
&quot;
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Next run the test to see if the integration is working correctly. You should receive test output ok and a test notification should be sent to your specific Slack channel.</p><img class="zoom-custom-imgs" src="/img/mmonit/slack_alert.png" alt="mmonit slack alert"><p>If you do not use M/Monit you can also configure the individual Monit instance to add Slack notifications. Read more at <a href="https://mmonit.com/wiki/MMonit/SlackNotification" target="_blank" rel="noopener noreferrer">Tideslash Wiki<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><h2 id="upgrading" tabindex="-1"><a class="header-anchor" href="#upgrading" aria-hidden="true">#</a> Upgrading</h2><p>Upgrading M/Monit without overwriting configuration files and databases can be done using the built-in upgrade command.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ cd /usr/local/
server@ubuntu:~$ wget https://mmonit.com/dist/mmonit-3.7.0-linux-x64.tar.gz
server@ubuntu:~$ tar -zxvf mmonit-3.7.0-linux-x64.tar.gz
server@ubuntu:~$ cd /usr/local/mmonit-3.6.2/bin/
server@ubuntu:~$ sudo ./mmonit stop
server@ubuntu:~$ /usr/local/mmonit-3.7.0/upgrade/upgrade -p /usr/local/mmonit-3.6.2/
server@ubuntu:~$ cd /usr/local/mmonit-3.7.0/bin/
server@ubuntu:~$ sudo ./mmonit
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="command-line" tabindex="-1"><a class="header-anchor" href="#command-line" aria-hidden="true">#</a> Command-line</h2><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting" aria-hidden="true">#</a> Troubleshooting</h2><p><a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">Questions<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>, <a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">comments<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>, or <a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">problems<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> regarding this service? Create an issue <a href="https://github.com/libellux/Libellux-Up-and-Running/issues/new/choose" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> or contact <a href="mailto:webmaster@libellux.com">webmaster@libellux.com</a>.</p><p><a href="https://www.libellux.com/openvas/" target="_blank" rel="noopener noreferrer">OpenVAS<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> reports Monit to be using weak ciphers accepted through TLS1.0,1.1,1.2 protocol. Add the following lines within the ssl section.</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">with</span> ssl</span> <span class="token punctuation">{</span>
    pemfile:
    version: TLSv12
    ciphers: &quot;ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384&quot;
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>To resolve the issue where libcrypto.so.1.0.x has been removed with the auto remove/clean command is to reinstall the libssl1.0.x and libssl-dev packages.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get install libssl1.0.x libssl-dev --reinstall
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>To resolve the issue where you receive the configuration error: libz not found. Proceed to install the zlib1g-dev package.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get install zlib1g-dev
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>In case you get the configure error: Couldn’t find your SSL header files. Proceed by installing the libssl-dev package.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ sudo apt-get install libssl-dev
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If you receive <code>configure: error: PAM enabled but headers or library not found</code>, install the PAM development support or run configure --without-pam to build without PAM.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server@ubuntu:~$ libpam0g-dev
server@ubuntu:~$ sudo ./configure --without-pam
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>If you get the error <code>SSL server certificate verification error: self signed certificate is not allowed, please use a trusted certificate or use the &#39;selfsigned: allow&#39; SSL option</code> update the monit configuration file to allow self-signed certificates.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo nano /usr/local/etc/monitrc
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">set</span> ssl <span class="token punctuation">{</span>
    verify: <span class="token builtin class-name">enable</span>
    selfsigned: allow
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>If receiving the error that the sever certificate has expired you can either re-generate a new self-signed certificate for your M/Monit server or simply disable the SSL verification at the client side.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Cannot connect to [192.168.0.1]:8443 -- SSL server certificate verification error: certificate has expired
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>client@ubuntu:~$ sudo nano /usr/local/etc/monitrc
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">set</span> ssl <span class="token punctuation">{</span>
    <span class="token comment">#verify: enable</span>
    selfsigned: allow
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="enterprise-solutions" tabindex="-1"><a class="header-anchor" href="#enterprise-solutions" aria-hidden="true">#</a> Enterprise solutions <span class="badge tip" style=""><!--[-->non-sponsored<!--]--></span></h2><h3 id="m-monit-enterprise" tabindex="-1"><a class="header-anchor" href="#m-monit-enterprise" aria-hidden="true">#</a> M/Monit Enterprise</h3><p>The M/Monit Enterprise License is a perpetual license and allows you to install and run an unlimited number of M/Monit instances for monitoring an unlimited number of hosts in-house.</p><p><a href="https://mmonit.com/shop/" target="_blank" rel="noopener noreferrer">M/Monit<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/libellux/Libellux-Up-and-Running-dev/edit/master/docs/mmonit/README.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">9/26/2021, 8:54:12 PM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: fredrik@libellux.com">Libellux</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/graylog/" class="nav-link" aria-label="Graylog Centralized Log Management"><!--[--><!--]--> Graylog Centralized Log Management <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.a79d15ed.js" defer></script><script src="/assets/js/540.b180c109.js" defer></script><script src="/assets/js/app.73392fe8.js" defer></script>
  </body>
</html>
